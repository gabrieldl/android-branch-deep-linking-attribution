name: unit-and-instrumented-tests
on: [push]
jobs:
  test:
    runs-on: macos-latest
    env:
      ANDROID_SDK_TOOLS:    "4333796"
      ANDROID_CMAKE:        "3.10.2.4988404"
    steps:
      - name: checkout
        uses: actions/checkout@v3
      - name: setup java  
        uses: actions/setup-java@v3
        with:
          distribution: 'temurin'
          java-version: '11'
      - name: Build with Gradle
        run: |
          export PATH="$ANDROID_HOME/cmake/${ANDROID_CMAKE}/bin:$PATH"
          ./gradlew connectedCheck --info
